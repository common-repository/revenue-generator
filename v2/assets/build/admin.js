(()=>{var e={772:()=>{var e;(e=jQuery).fn.showSnackbar=function(t,n){const r=e(this);r.text(t),r.addClass("rev-gen-snackbar--show"),setTimeout((function(){r.removeClass("rev-gen-snackbar--show")}),n)}}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{"use strict";n(772);!function(e){function t(){const t={body:e("body"),requestSent:!1,somethingChanged:!1,settingsClientID:".rev-gen-settings-main-client-id",settingsClientSecret:".rev-gen-settings-main-client-secret",settingsModalClose:".rev-gen-settings-main-info-modal-cross",rgDashboard:".rev-gen-dashboard-main",helpGAButton:".rev-gen-settings-main-option-info",helpGAModal:".rev-gen-settings-main-info-modal",rgGALaterpayRow:".rev-gen-laterpay-row",rgGAUserRow:".rev-gen-user-row",laterpayLoader:e(".laterpay-loader-wrapper"),rgLayoutWrapper:e(".rev-gen-layout-wrapper"),settingsWrapper:e(".rev-gen-settings-main"),settingsPerMonth:e(".rev-gen-settings-main-post-per-month"),settingsGAUserID:e(".rev-gen-settings-main-ga-code-user"),settingsSaveButton:e(".rev-gen-settings-main-save-settings"),gaUserStatus:e("#gaUserStatus"),gaLaterPayStatus:e("#gaLaterpayStatus"),snackBar:e("#rg_js_snackBar"),everyInput:e("table.rev-gen-settings-main-table input"),triggerPopup:e(".triggerPopup")},n=function(t){e(t).css("border-color","#19e4ac"),setTimeout((function(){e(t).removeAttr("style")}),5e3)},r=function(t){e(t).css("border-color","#ff1939"),setTimeout((function(){e(t).removeAttr("style")}),5e3)},o=function(e){if(!0===e)return t=window,n=document,r="script",o="rgga",t.GoogleAnalyticsObject=o,t[o]=t[o]||function(){(t[o].q=t[o].q||[]).push(arguments)},t[o].l=1*new Date,a=n.createElement(r),s=n.getElementsByTagName(r)[0],a.async=1,a.src="https://www.google-analytics.com/analytics.js",s.parentNode.insertBefore(a,s),window[window.GoogleAnalyticsObject||"rgga"];var t,n,r,o,a,s},a=function(e,t,n,r,a,s){const i=o(e);"function"==typeof i&&(i("create",rgOptions.rg_tracking_id,"auto","rgParentTracker"),i("rgParentTracker.send","event",{eventCategory:r,eventAction:n,eventLabel:t,eventValue:a,nonInteraction:s}))},s=function(e,t,n,r,a,s){const i=o(e);"function"==typeof i&&(i("create",rgOptions.rg_user_tracking_id,"auto","rgUserTracker"),i("rgUserTracker.send","event",{eventCategory:r,eventAction:n,eventLabel:t,eventValue:a,nonInteraction:s}))},i=function(e,t,n,r,o,a,s,i){e("create",t,"auto",n),e(n+".send","event",{eventCategory:a,eventAction:r,eventLabel:o,eventValue:s,nonInteraction:i})};window.rgGlobal={sendLPGAEvent(e,t,n,r,o){void 0===o&&(o=!1);let c=!1;const g=function(){if("boolean"==typeof window.mi_track_user&&!0===window.mi_trac_user)return window[window.GoogleAnalyticsObject||"__gaTracker"]}();let l="";const u=rgOptions.rg_tracking_id,d=rgOptions.rg_tracking_id;u.length>0&&d.length>0?"function"==typeof g?(l=g.getAll(),l.forEach((function(a){if(u===a.get("trackingId")){c=!0;const s=a.get("name");g(s+".send","event",{eventCategory:t,eventAction:e,eventLabel:n,eventValue:r,nonInteraction:o})}})),!0===c?i(d,"rgParentTracker",e,n,t,r,o):(i(g,d,"rgParentTracker",e,n,t,r,o),i(g,u,"rgUserTracker",e,n,t,r,o))):(a(!0,n,e,t,r,o),s(!0,n,e,t,r,o)):u.length>0&&0===d.length?"function"==typeof g?(l=g.getAll(),l.forEach((function(a){if(u===a.get("trackingId")){c=!0;const s=a.get("name");g(s+".send","event",{eventCategory:t,eventAction:e,eventLabel:n,eventValue:r,nonInteraction:o})}})),!0!==c&&s(!0,n,e,t,r,o)):s(!0,n,e,t,r,o):0===u.length&&d.length>0&&("function"==typeof g?i(g,d,"rgParentTracker",e,n,t,r,o):a(!0,n,e,t,r,o))}},t.settingsSaveButton.on("click",function(e,t){let n;return function(){const r=this,o=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(r,o)}),t)}}((function(){if(!t.requestSent){t.requestSent=!0;let o=0,a=0;const s=e(t.settingsClientID).val(),i=e(t.settingsClientSecret).val(),c=t.settingsGAUserID.val();t.gaUserStatus.is(":checked")&&(o=t.gaUserStatus.val()),t.gaLaterPayStatus.is(":checked")&&(a=t.gaLaterPayStatus.val());const g={action:"rgv2_update_settings",client_id:s,client_secret:i,personal_ga_ua_id:c,ga_personal_enabled_status:o,ga_enabled_status:a,security:rgOptions.rg_global_config_nonce};t.laterpayLoader.css("display","flex"),function(o){e.ajax({url:rgOptions.ajaxUrl,method:"POST",data:o,dataType:"json"}).done((function(e){t.laterpayLoader.hide(),t.snackBar.showSnackbar(e.data.msg,1500),e.data.merchant?(n(t.settingsMerchantID),n(t.settingsMerchantKey)):(r(t.settingsMerchantID),r(t.settingsMerchantKey)),t.requestSent=!1}))}(g),t.requestSent=!1,t.somethingChanged=!1}}),500)),t.settingsPerMonth.on("click",(function(){t.settingsPerMonth.removeAttr("checked"),e(this).prop("checked",!0)})),t.everyInput.on("change",(function(){t.somethingChanged=!0})),e(window).on("beforeunload",(function(e){if(t.somethingChanged)return e.preventDefault(),!1})),t.rgLayoutWrapper.on("click",(function(){t.helpGAModal&&t.helpGAModal.length>0&&(e(t.helpGAModal).remove(),t.body.removeClass("modal-blur"),e(t.rgGAUserRow).css("background-color","inherit"),e(t.rgGALaterpayRow).css("background-color","inherit"),t.body.find("input").removeClass("input-blur"))})),t.body.on("click",t.helpGAButton,(function(){const n=e(this).attr("data-info-for"),r=t.settingsWrapper.find(t.helpGAModal);if(r.length)t.body.removeClass("modal-blur"),t.body.find("input").removeClass("input-blur"),r.remove();else{const r=wp.template(`rev-gen-info-${n}`);t.settingsWrapper.append(r()),t.body.addClass("modal-blur"),t.body.find("input").addClass("input-blur"),"user"===n?(e(t.rgGAUserRow).find("input").removeClass("input-blur"),e(t.rgGALaterpayRow).removeAttr("style"),e(t.rgGAUserRow).css("background-color","#fff")):(e(t.rgGALaterpayRow).find("input").removeClass("input-blur"),e(t.rgGAUserRow).removeAttr("style"),e(t.rgGALaterpayRow).css("background-color","#fff"))}})),t.body.on("click",t.settingsModalClose,(function(){e(t.helpGAModal).remove(),t.body.removeClass("modal-blur"),e(t.rgGAUserRow).css("background-color","inherit"),e(t.rgGALaterpayRow).css("background-color","inherit"),t.body.find("input").removeClass("input-blur")}))}e(document).ready((function(){t()}))}(jQuery)})()})();